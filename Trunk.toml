# Trunk configuration for building the Leptos WASM application
# https://trunkrs.dev/configuration/

[build]
# The index HTML file to drive the bundling process
target = "index_leptos.html"
# Build output directory
dist = "dist"
# Public URL base path - use / for GitHub Pages
public_url = "/"

[watch]
# Paths to watch for changes during development
watch = ["src", "styles", "static", "index_leptos.html", "Cargo.toml"]
# Paths to ignore
ignore = ["dist", "target"]

[serve]
# Development server configuration
address = "127.0.0.1"
port = 8080
# Enable browser auto-open in development
open = false

# Copy static assets to dist folder
[[assets]]
source = "static"
dest = "."

# Process Tailwind CSS
[[hooks]]
stage = "pre_build"
command = "sh"
command_arguments = ["-c", "npx tailwindcss -i ./styles/input.css -o ./styles/output.css --minify"]